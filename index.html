<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<title>Main assignment</title>
</head>
<body>
	<script>

		let gameStates = ["rock", "paper", "scissors"];
		let playerCount = 0;
		let computerCount = 0;

		function computerPlay() {
			let randomNumber = Math.floor(Math.random() * 3); //random number (0 - 2 for array looping)

			for(let i=0; i<gameStates.length; i++) {
				if(i==randomNumber) {
					let computerSelection = gameStates[i];
					return(computerSelection);
				}
			}
		}

		function playRound(input) {
			let playerSelection;
			//check if player started the game with an input
			if(input == undefined) {
				input = prompt("Choose your weapon: Rock, paper or scissors?")
			}
			playerSelection = input.toLowerCase();

			computerSelection = computerPlay();
			console.log("player: " + playerSelection);
			console.log("computer: " + computerSelection);

			switch(true) {
				case (playerSelection == "rock" && computerSelection == "scissors"):
				case (playerSelection == "scissors" && computerSelection == "paper"):
				case (playerSelection == "paper" && computerSelection == "rock"):
					playerCount++;
					return `You win! ${playerSelection} beats ${computerSelection}`;
					break;

				case (playerSelection == "scissors" && computerSelection == "rock"):
				case (playerSelection == "rock" && computerSelection == "paper"):
				case (playerSelection == "paper" && computerSelection == "scissors"):
					computerCount++;
					return `You lose! ${computerSelection} beats ${playerSelection}`;
					break;

				case (playerSelection == computerSelection):
					return `It's a draw! You both chose ${playerSelection}`
					break;
			}
		}

		function game(input) {
			console.log(` ________ \n|Round 1:| \n ‾‾‾‾‾‾‾‾`);
			for(let i=1; i<5; i++) {
				console.log(playRound(input));
				console.log(`Game record after round ${i}: \n***player ${playerCount}:${computerCount} computer*** \n ________ \n|Round ${i+1}:|  \n ‾‾‾‾‾‾‾‾`)
			}
			console.log(playRound(input));

			if(playerCount > computerCount) {
				console.log(`***Player wins this game with ${playerCount} points***`);
			} else if (playerCount < computerCount) {
				console.log(`***Computer wins this game with ${computerCount} points***`);
			} else {
				console.log(`***It's a draw! Both have ${playerCount} points.***`);
			}
				playerCount = 0;
				computerCount = 0;
			}

	</script>
</body>
</html>
